# Story 4.1: Blog Listing Page Design & Implementation

## Status
Ready for Review

## Story
**As a** website visitor interested in car maintenance advice,
**I want** an attractive, easy-to-navigate blog listing page that showcases available articles,
**so that** I can quickly find relevant content that addresses my car care questions.

## Acceptance Criteria
1. Clean, readable blog index page with article preview cards
2. Built from the existing `src/pages/posts/index.tsx`
3. 3×3 grid layout with image, title, date and short description
4. Filtering by categories/tags (Maintenance, Tips, News, Seasonal)
5. Search functionality for finding specific topics
6. Pagination for content browsing
7. Featured article section highlighting most important content
8. Mobile-optimized layout that maintains readability
9. Consistent design using existing Shadcn card components and Tailwind v4
10. All content pulled from DecapCMS via existing setup

## Tasks / Subtasks
- [x] Create blog listing page structure (AC: 1, 7)
  - [x] Set up basic page layout with proper Norwegian language metadata
  - [x] Implement responsive grid layout for article cards
  - [x] Add mobile-first responsive design with Tailwind CSS
- [x] Implement article preview cards (AC: 2, 8)
  - [x] Create article card component using Shadcn card components
  - [x] Include image, title, date, and short description in cards
  - [x] Style cards to match Norwegian car mechanic brand aesthetic
- [x] Add filtering functionality (AC: 3)
  - [x] Implement category/tag filter buttons
  - [x] Connect filter logic to DecapCMS content categories
  - [x] Add Norwegian category labels (Vedlikehold, Tips, Nyheter, Sesongguide)
- [x] Implement search functionality (AC: 4)
  - [x] Create search input field component
  - [x] Implement search logic for article titles and content
  - [x] Add search result highlighting
- [x] Check existing pagination (AC: 5)
  - [x] Check existing pagination functionality
  - [x] Connect to existing pagination utilities
  - [x] Style to match Norwegian design theme
- [x] Create featured article section (AC: 6)
  - [x] Design and implement featured article component
  - [x] Add logic to highlight important content
  - [x] Style featured section to stand out
- [x] Connect to DecapCMS content (AC: 9)
  - [x] Ensure content is properly pulled from DecapCMS
  - [x] Test with existing blog content structure
  - [x] Verify Norwegian language content displays correctly

## Dev Notes

### Previous Story Insights
No previous story insights for Epic 4.

### Data Models
Based on existing blog structure in the codebase:
- Blog posts are stored as MDX files in `content/posts/` [Source: source-tree.md#176]
- Each post contains frontmatter with metadata (title, date, tags, etc.) [Source: brownfield-architecture.md#99]
- Blog content is managed through DecapCMS [Source: brownfield-architecture.md#91]

### API Specifications
- No REST APIs - static site generation with content loading from MDX files [Source: brownfield-architecture.md#106]
- Content loading utilities exist in `src/lib/posts.ts` [Source: brownfield-architecture.md#88]
- Site configuration in `config.json` includes blog settings [Source: source-tree.md#235]

### Component Specifications
- Use existing Shadcn/UI card components for article preview cards [Source: tech-stack.md#45]
- Follow existing component patterns from `src/components/PostItem.tsx` and `src/components/PostList.tsx` [Source: source-tree.md#100]
- Implement responsive design with Tailwind CSS v4 [Source: tech-stack.md#35]
- Maintain Norwegian language support throughout components [Source: coding-standards.md#212]

### File Locations
- Update blog listing page at `src/pages/posts/index.tsx` (following Norwegian naming) [Source: source-tree.md#395]
- Build on existing card component at `src/components/blog/ArticleCard.tsx` [Source: source-tree.md#192]
- Create filter component at `src/components/blog/BlogFilter.tsx` [Source: source-tree.md#192]
- Create search component at `src/components/blog/BlogSearch.tsx` [Source: source-tree.md#192]
- Update navigation configuration in `src/config/navigation.ts` to include blog link [Source: source-tree.md#252]

### Testing Requirements
- Test file location: `src/__tests__/components/blog/` [Source: tdd-strategy.md#32]
- Test standards: Follow Jest testing framework with TypeScript support [Source: tdd-strategy.md#27]
- Testing patterns: Test component rendering, filter functionality, search behavior, and pagination [Source: tdd-strategy.md#36]
- Coverage requirements: Minimum 80% statements, 75% branches, 85% functions, 80% lines [Source: tdd-strategy.md#81]

### Technical Constraints
- Must maintain existing Shadcn/UI component patterns [Source: brownfield-architecture.md#203]
- Norwegian language support throughout the application [Source: brownfield-architecture.md#204]
- Static export configuration (`output: 'export'`) for Netlify deployment [Source: brownfield-architecture.md#122]
- Mobile-first responsive design approach [Source: coding-standards.md#26]

### Norwegian Language Implementation
- Use Norwegian UI text constants [Source: coding-standards.md#216]
- Format dates according to Norwegian standards (DD.MM.YYYY) [Source: coding-standards.md#244]
- Implement Norwegian category labels: Vedlikehold, Tips, Nyheter, Sesongguide [Source: epic-4-blog-design.md#87]
- Use Norwegian page title and meta descriptions [Source: epic-4-blog-design.md#175]

## Testing
- Test file location: `src/__tests__/components/blog/ArticleCard.test.tsx`, `src/__tests__/pages/blogg/index.test.tsx`
- Test standards: Jest with TypeScript support and React Testing Library for component testing
- Testing frameworks and patterns: Use Given-When-Then pattern for test structure, focus on testing business logic and user interactions
- Specific testing requirements: Test article card rendering, filter functionality, search behavior, pagination, and responsive design
- Coverage requirements: Minimum 80% statements, 75% branches, 85% functions, 80% lines

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-10-13 | 1.0 | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4 (Augment Agent) - Full Stack Developer

### Debug Log References
- Build successful: Next.js static site generation completed without errors
- All TypeScript types validated successfully
- Norwegian language implementation verified

### Completion Notes List
- ✅ Enhanced blog listing page with 3×3 responsive grid layout
- ✅ Implemented Norwegian car mechanic brand aesthetic with hover effects
- ✅ Added comprehensive search functionality with debounced input
- ✅ Enhanced filtering with Norwegian categories (Vedlikehold, Tips, Nyheter, Sesongguide)
- ✅ Improved pagination with Norwegian labels and accessibility
- ✅ Featured article section with special layout and styling
- ✅ All content properly connected to DecapCMS via existing MDX structure
- ✅ Mobile-first responsive design implemented throughout
- ✅ Norwegian language support maintained across all components

### File List
- Modified: `src/pages/posts/index.tsx` - Main blog listing page with grid layout, search, and filtering
- Modified: `src/components/blog/ArticleCard.tsx` - Enhanced article cards with Norwegian branding
- Modified: `src/components/blog/BlogFilter.tsx` - Improved filter component with Norwegian categories
- Modified: `src/components/blog/BlogSearch.tsx` - Enhanced search component with better UX
- Modified: `src/components/Pagination.tsx` - Improved pagination with Norwegian labels
- Modified: `meta/tags.yml` - Added Norwegian category tags
- Created: `src/__tests__/pages/posts/index.test.tsx` - Test coverage for blog functionality

## QA Results
[To be populated by QA Agent]