# Story 4.1: Blog Listing Page Design & Implementation

## Status
Draft

## Story
**As a** website visitor interested in car maintenance advice,
**I want** an attractive, easy-to-navigate blog listing page that showcases available articles,
**so that** I can quickly find relevant content that addresses my car care questions.

## Acceptance Criteria
1. Clean, readable blog index page with article preview cards
2. Built from the existing `src/pages/posts/index.tsx`
3. 3Ã—3 grid layout with image, title, date and short description
4. Filtering by categories/tags (Maintenance, Tips, News, Seasonal)
5. Search functionality for finding specific topics
6. Pagination for content browsing
7. Featured article section highlighting most important content
8. Mobile-optimized layout that maintains readability
9. Consistent design using existing Shadcn card components and Tailwind v4
10. All content pulled from DecapCMS via existing setup

## Tasks / Subtasks
- [ ] Create blog listing page structure (AC: 1, 7)
  - [ ] Set up basic page layout with proper Norwegian language metadata
  - [ ] Implement responsive grid layout for article cards
  - [ ] Add mobile-first responsive design with Tailwind CSS
- [ ] Implement article preview cards (AC: 2, 8)
  - [ ] Create article card component using Shadcn card components
  - [ ] Include image, title, date, and short description in cards
  - [ ] Style cards to match Norwegian car mechanic brand aesthetic
- [ ] Add filtering functionality (AC: 3)
  - [ ] Implement category/tag filter buttons
  - [ ] Connect filter logic to DecapCMS content categories
  - [ ] Add Norwegian category labels (Vedlikehold, Tips, Nyheter, Sesongguide)
- [ ] Implement search functionality (AC: 4)
  - [ ] Create search input field component
  - [ ] Implement search logic for article titles and content
  - [ ] Add search result highlighting
- [ ] Check existing pagination (AC: 5)
  - [ ] Check existing pagination functionality
  - [ ] Connect to existing pagination utilities
  - [ ] Style to match Norwegian design theme
- [ ] Create featured article section (AC: 6)
  - [ ] Design and implement featured article component
  - [ ] Add logic to highlight important content
  - [ ] Style featured section to stand out
- [ ] Connect to DecapCMS content (AC: 9)
  - [ ] Ensure content is properly pulled from DecapCMS
  - [ ] Test with existing blog content structure
  - [ ] Verify Norwegian language content displays correctly

## Dev Notes

### Previous Story Insights
No previous story insights for Epic 4.

### Data Models
Based on existing blog structure in the codebase:
- Blog posts are stored as MDX files in `content/posts/` [Source: source-tree.md#176]
- Each post contains frontmatter with metadata (title, date, tags, etc.) [Source: brownfield-architecture.md#99]
- Blog content is managed through DecapCMS [Source: brownfield-architecture.md#91]

### API Specifications
- No REST APIs - static site generation with content loading from MDX files [Source: brownfield-architecture.md#106]
- Content loading utilities exist in `src/lib/posts.ts` [Source: brownfield-architecture.md#88]
- Site configuration in `config.json` includes blog settings [Source: source-tree.md#235]

### Component Specifications
- Use existing Shadcn/UI card components for article preview cards [Source: tech-stack.md#45]
- Follow existing component patterns from `src/components/PostItem.tsx` and `src/components/PostList.tsx` [Source: source-tree.md#100]
- Implement responsive design with Tailwind CSS v4 [Source: tech-stack.md#35]
- Maintain Norwegian language support throughout components [Source: coding-standards.md#212]

### File Locations
- Update blog listing page at `src/pages/posts/index.tsx` (following Norwegian naming) [Source: source-tree.md#395]
- Build on existing card component at `src/components/blog/ArticleCard.tsx` [Source: source-tree.md#192]
- Create filter component at `src/components/blog/BlogFilter.tsx` [Source: source-tree.md#192]
- Create search component at `src/components/blog/BlogSearch.tsx` [Source: source-tree.md#192]
- Update navigation configuration in `src/config/navigation.ts` to include blog link [Source: source-tree.md#252]

### Testing Requirements
- Test file location: `src/__tests__/components/blog/` [Source: tdd-strategy.md#32]
- Test standards: Follow Jest testing framework with TypeScript support [Source: tdd-strategy.md#27]
- Testing patterns: Test component rendering, filter functionality, search behavior, and pagination [Source: tdd-strategy.md#36]
- Coverage requirements: Minimum 80% statements, 75% branches, 85% functions, 80% lines [Source: tdd-strategy.md#81]

### Technical Constraints
- Must maintain existing Shadcn/UI component patterns [Source: brownfield-architecture.md#203]
- Norwegian language support throughout the application [Source: brownfield-architecture.md#204]
- Static export configuration (`output: 'export'`) for Netlify deployment [Source: brownfield-architecture.md#122]
- Mobile-first responsive design approach [Source: coding-standards.md#26]

### Norwegian Language Implementation
- Use Norwegian UI text constants [Source: coding-standards.md#216]
- Format dates according to Norwegian standards (DD.MM.YYYY) [Source: coding-standards.md#244]
- Implement Norwegian category labels: Vedlikehold, Tips, Nyheter, Sesongguide [Source: epic-4-blog-design.md#87]
- Use Norwegian page title and meta descriptions [Source: epic-4-blog-design.md#175]

## Testing
- Test file location: `src/__tests__/components/blog/ArticleCard.test.tsx`, `src/__tests__/pages/blogg/index.test.tsx`
- Test standards: Jest with TypeScript support and React Testing Library for component testing
- Testing frameworks and patterns: Use Given-When-Then pattern for test structure, focus on testing business logic and user interactions
- Specific testing requirements: Test article card rendering, filter functionality, search behavior, pagination, and responsive design
- Coverage requirements: Minimum 80% statements, 75% branches, 85% functions, 80% lines

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-10-13 | 1.0 | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used
[To be populated by Dev Agent]

### Debug Log References
[To be populated by Dev Agent]

### Completion Notes List
[To be populated by Dev Agent]

### File List
[To be populated by Dev Agent]

## QA Results
[To be populated by QA Agent]